{"ast":null,"code":"import _objectSpread from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{db}from\"../firebase\";import{useCollection}from\"react-firebase-hooks/firestore\";export default function useUsers(user){var _useCollection=useCollection(db.collection(\"users\").orderBy(\"timestamp\",\"desc\")),_useCollection2=_slicedToArray(_useCollection,1),snapshot=_useCollection2[0];var users=[];if(user){snapshot===null||snapshot===void 0?void 0:snapshot.docs.forEach(function(doc){var id=doc.id>user.uid?\"\".concat(doc.id).concat(user.uid):\"\".concat(user.uid).concat(doc.id);if(doc.id!==user.uid){users.push(_objectSpread({id:id,userID:doc.id},doc.data()));}});}return users;}","map":{"version":3,"sources":["C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/src/hooks/useUsers.js"],"names":["db","useCollection","useUsers","user","collection","orderBy","snapshot","users","docs","forEach","doc","id","uid","push","userID","data"],"mappings":"uZAAA,OAASA,EAAT,KAAmB,aAAnB,CACA,OAASC,aAAT,KAA8B,gCAA9B,CAEA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,IAAlB,CAAwB,CACrC,mBAAmBF,aAAa,CAC9BD,EAAE,CAACI,UAAH,CAAc,OAAd,EAAuBC,OAAvB,CAA+B,WAA/B,CAA4C,MAA5C,CAD8B,CAAhC,kDAAOC,QAAP,oBAIA,GAAMC,CAAAA,KAAK,CAAG,EAAd,CAEA,GAAIJ,IAAJ,CAAU,CACRG,QAAQ,OAAR,EAAAA,QAAQ,SAAR,QAAAA,QAAQ,CAAEE,IAAV,CAAeC,OAAf,CAAuB,SAACC,GAAD,CAAS,CAC9B,GAAMC,CAAAA,EAAE,CACND,GAAG,CAACC,EAAJ,CAASR,IAAI,CAACS,GAAd,WAAuBF,GAAG,CAACC,EAA3B,SAAgCR,IAAI,CAACS,GAArC,YAAgDT,IAAI,CAACS,GAArD,SAA2DF,GAAG,CAACC,EAA/D,CADF,CAGA,GAAID,GAAG,CAACC,EAAJ,GAAWR,IAAI,CAACS,GAApB,CAAyB,CACvBL,KAAK,CAACM,IAAN,gBACEF,EAAE,CAAFA,EADF,CAEEG,MAAM,CAAEJ,GAAG,CAACC,EAFd,EAGKD,GAAG,CAACK,IAAJ,EAHL,GAKD,CACF,CAXD,EAYD,CAED,MAAOR,CAAAA,KAAP,CACD","sourcesContent":["import { db } from \"../firebase\";\nimport { useCollection } from \"react-firebase-hooks/firestore\";\n\nexport default function useUsers(user) {\n  const [snapshot] = useCollection(\n    db.collection(\"users\").orderBy(\"timestamp\", \"desc\")\n  );\n\n  const users = [];\n\n  if (user) {\n    snapshot?.docs.forEach((doc) => {\n      const id =\n        doc.id > user.uid ? `${doc.id}${user.uid}` : `${user.uid}${doc.id}`;\n\n      if (doc.id !== user.uid) {\n        users.push({\n          id,\n          userID: doc.id,\n          ...doc.data(),\n        });\n      }\n    });\n  }\n\n  return users;\n}\n"]},"metadata":{},"sourceType":"module"}