{"ast":null,"code":"import _slicedToArray from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{db,auth,createTimestamp}from\"../firebase\";import{useAuthState}from\"react-firebase-hooks/auth\";export default function useAuthUser(){var _useAuthState=useAuthState(auth),_useAuthState2=_slicedToArray(_useAuthState,1),user=_useAuthState2[0];React.useEffect(function(){if(user){var ref=db.collection(\"users\").doc(user.uid);ref.get().then(function(doc){if(!doc.exists){ref.set({name:user.displayName,photoURL:user.photoURL,timestamp:createTimestamp()});}});}},[user]);return user;}","map":{"version":3,"sources":["C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/src/hooks/useAuthUser.js"],"names":["React","db","auth","createTimestamp","useAuthState","useAuthUser","user","useEffect","ref","collection","doc","uid","get","then","exists","set","name","displayName","photoURL","timestamp"],"mappings":"4MAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,EAAT,CAAaC,IAAb,CAAmBC,eAAnB,KAA0C,aAA1C,CACA,OAASC,YAAT,KAA6B,2BAA7B,CAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CACpC,kBAAeD,YAAY,CAACF,IAAD,CAA3B,gDAAOI,IAAP,mBAEAN,KAAK,CAACO,SAAN,CAAgB,UAAM,CACpB,GAAID,IAAJ,CAAU,CACR,GAAME,CAAAA,GAAG,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BJ,IAAI,CAACK,GAAhC,CAAZ,CACAH,GAAG,CAACI,GAAJ,GAAUC,IAAV,CAAe,SAACH,GAAD,CAAS,CACtB,GAAI,CAACA,GAAG,CAACI,MAAT,CAAiB,CACfN,GAAG,CAACO,GAAJ,CAAQ,CACNC,IAAI,CAAEV,IAAI,CAACW,WADL,CAENC,QAAQ,CAAEZ,IAAI,CAACY,QAFT,CAGNC,SAAS,CAAEhB,eAAe,EAHpB,CAAR,EAKD,CACF,CARD,EASD,CACF,CAbD,CAaG,CAACG,IAAD,CAbH,EAeA,MAAOA,CAAAA,IAAP,CACD","sourcesContent":["import React from \"react\";\nimport { db, auth, createTimestamp } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nexport default function useAuthUser() {\n  const [user] = useAuthState(auth);\n\n  React.useEffect(() => {\n    if (user) {\n      const ref = db.collection(\"users\").doc(user.uid);\n      ref.get().then((doc) => {\n        if (!doc.exists) {\n          ref.set({\n            name: user.displayName,\n            photoURL: user.photoURL,\n            timestamp: createTimestamp(),\n          });\n        }\n      });\n    }\n  }, [user]);\n\n  return user;\n}\n"]},"metadata":{},"sourceType":"module"}