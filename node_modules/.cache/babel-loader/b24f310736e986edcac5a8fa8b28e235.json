{"ast":null,"code":"import _objectSpread from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useDocument}from\"react-firebase-hooks/firestore\";import{db}from\"../firebase\";export default function useRoom(roomId,userId){var isUserRoom=roomId.includes(userId);var doc=isUserRoom?roomId===null||roomId===void 0?void 0:roomId.replace(userId,\"\"):roomId;var _useDocument=useDocument(db.collection(isUserRoom?\"users\":\"rooms\").doc(doc)),_useDocument2=_slicedToArray(_useDocument,1),snapshot=_useDocument2[0];if(!snapshot)return null;return _objectSpread({id:snapshot.id,photoURL:snapshot.photoURL||\"https://avatars.dicebear.com/api/human/\".concat(snapshot.id,\".svg\")},snapshot.data());}","map":{"version":3,"sources":["C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/src/hooks/useRoom.js"],"names":["useDocument","db","useRoom","roomId","userId","isUserRoom","includes","doc","replace","collection","snapshot","id","photoURL","data"],"mappings":"uZAAA,OAASA,WAAT,KAA4B,gCAA5B,CACA,OAASC,EAAT,KAAmB,aAAnB,CAEA,cAAe,SAASC,CAAAA,OAAT,CAAiBC,MAAjB,CAAyBC,MAAzB,CAAiC,CAC9C,GAAMC,CAAAA,UAAU,CAAGF,MAAM,CAACG,QAAP,CAAgBF,MAAhB,CAAnB,CAEA,GAAMG,CAAAA,GAAG,CAAGF,UAAU,CAAGF,MAAH,SAAGA,MAAH,iBAAGA,MAAM,CAAEK,OAAR,CAAgBJ,MAAhB,CAAwB,EAAxB,CAAH,CAAiCD,MAAvD,CAEA,iBAAmBH,WAAW,CAC5BC,EAAE,CAACQ,UAAH,CAAcJ,UAAU,CAAG,OAAH,CAAa,OAArC,EAA8CE,GAA9C,CAAkDA,GAAlD,CAD4B,CAA9B,8CAAOG,QAAP,kBAIA,GAAI,CAACA,QAAL,CAAe,MAAO,KAAP,CAEf,sBACEC,EAAE,CAAED,QAAQ,CAACC,EADf,CAEEC,QAAQ,CACNF,QAAQ,CAACE,QAAT,mDAC0CF,QAAQ,CAACC,EADnD,QAHJ,EAKKD,QAAQ,CAACG,IAAT,EALL,EAOD","sourcesContent":["import { useDocument } from \"react-firebase-hooks/firestore\";\nimport { db } from \"../firebase\";\n\nexport default function useRoom(roomId, userId) {\n  const isUserRoom = roomId.includes(userId);\n\n  const doc = isUserRoom ? roomId?.replace(userId, \"\") : roomId;\n\n  const [snapshot] = useDocument(\n    db.collection(isUserRoom ? \"users\" : \"rooms\").doc(doc)\n  );\n\n  if (!snapshot) return null;\n\n  return {\n    id: snapshot.id,\n    photoURL:\n      snapshot.photoURL ||\n      `https://avatars.dicebear.com/api/human/${snapshot.id}.svg`,\n    ...snapshot.data(),\n  };\n}\n"]},"metadata":{},"sourceType":"module"}