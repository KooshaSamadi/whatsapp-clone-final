{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { db, auth, createTimestamp } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nexport default function useAuthUser() {\n  _s();\n\n  const [user] = useAuthState(auth);\n  React.useEffect(() => {\n    if (user) {\n      const ref = db.collection(\"users\").doc(user.uid);\n      ref.get().then(doc => {\n        if (!doc.exists) {\n          ref.set({\n            name: user.displayName,\n            photoURL: user.photoURL,\n            timestamp: createTimestamp()\n          });\n        }\n      });\n    }\n  }, [user]);\n  return user;\n}\n\n_s(useAuthUser, \"KCTRmqVEdGa78vIMfK+tbQdXUCM=\", false, function () {\n  return [useAuthState];\n});","map":{"version":3,"sources":["C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/src/hooks/useAuthUser.js"],"names":["React","db","auth","createTimestamp","useAuthState","useAuthUser","user","useEffect","ref","collection","doc","uid","get","then","exists","set","name","displayName","photoURL","timestamp"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAT,EAAaC,IAAb,EAAmBC,eAAnB,QAA0C,aAA1C;AACA,SAASC,YAAT,QAA6B,2BAA7B;AAEA,eAAe,SAASC,WAAT,GAAuB;AAAA;;AACpC,QAAM,CAACC,IAAD,IAASF,YAAY,CAACF,IAAD,CAA3B;AAEAF,EAAAA,KAAK,CAACO,SAAN,CAAgB,MAAM;AACpB,QAAID,IAAJ,EAAU;AACR,YAAME,GAAG,GAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BJ,IAAI,CAACK,GAAhC,CAAZ;AACAH,MAAAA,GAAG,CAACI,GAAJ,GAAUC,IAAV,CAAgBH,GAAD,IAAS;AACtB,YAAI,CAACA,GAAG,CAACI,MAAT,EAAiB;AACfN,UAAAA,GAAG,CAACO,GAAJ,CAAQ;AACNC,YAAAA,IAAI,EAAEV,IAAI,CAACW,WADL;AAENC,YAAAA,QAAQ,EAAEZ,IAAI,CAACY,QAFT;AAGNC,YAAAA,SAAS,EAAEhB,eAAe;AAHpB,WAAR;AAKD;AACF,OARD;AASD;AACF,GAbD,EAaG,CAACG,IAAD,CAbH;AAeA,SAAOA,IAAP;AACD;;GAnBuBD,W;UACPD,Y","sourcesContent":["import React from \"react\";\nimport { db, auth, createTimestamp } from \"../firebase\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\n\nexport default function useAuthUser() {\n  const [user] = useAuthState(auth);\n\n  React.useEffect(() => {\n    if (user) {\n      const ref = db.collection(\"users\").doc(user.uid);\n      ref.get().then((doc) => {\n        if (!doc.exists) {\n          ref.set({\n            name: user.displayName,\n            photoURL: user.photoURL,\n            timestamp: createTimestamp(),\n          });\n        }\n      });\n    }\n  }, [user]);\n\n  return user;\n}\n"]},"metadata":{},"sourceType":"module"}