{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{CancelRounded,CheckCircleRounded,MicRounded,Send}from\"@material-ui/icons\";import React from\"react\";import{createTimestamp,db,audioStorage}from\"../firebase\";import{v4 as uuid}from\"uuid\";import\"./ChatFooter.css\";import recordAudio from\"./recordAudio\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ChatFooter(_ref){var input=_ref.input,onChange=_ref.onChange,sendMessage=_ref.sendMessage,image=_ref.image,user=_ref.user,room=_ref.room,roomId=_ref.roomId,setAudioId=_ref.setAudioId;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isRecording=_React$useState2[0],setRecording=_React$useState2[1];var _React$useState3=React.useState(\"00:00\"),_React$useState4=_slicedToArray(_React$useState3,2),duration=_React$useState4[0],setDuration=_React$useState4[1];var timerInterval=React.useRef();var recordingEl=React.useRef();var record=React.useRef();var inputRef=React.useRef();function startRecording(_x){return _startRecording.apply(this,arguments);}function _startRecording(){_startRecording=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return recordAudio();case 3:record.current=_context.sent;inputRef.current.focus();inputRef.current.style.width=\"calc(100% - 56px)\";setRecording(true);setAudioId(\"\");case 8:case\"end\":return _context.stop();}}},_callee);}));return _startRecording.apply(this,arguments);}React.useEffect(function(){if(isRecording){recordingEl.current.style.opacity=\"1\";startTimer();record.current.start();}function startTimer(){var start=Date.now();timerInterval.current=setInterval(setTime,100);function setTime(){var timeElapsed=Date.now()-start;var totalSeconds=Math.floor(timeElapsed/1000);var minutes=pad(parseInt(totalSeconds/60));var seconds=pad(parseInt(totalSeconds%60));var duration=\"\".concat(minutes,\":\").concat(seconds);setDuration(duration);}}},[isRecording]);function pad(value){return String(value).length<2?\"0\".concat(value):value;}function stopRecording(){return _stopRecording.apply(this,arguments);}function _stopRecording(){_stopRecording=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var audio;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:inputRef.current.focus();clearInterval(timerInterval.current);audio=record.current.stop();recordingEl.current.style.opacity=\"0\";setRecording(false);inputRef.current.style.width=\"calc(100% - 112px)\";setDuration(\"00:00\");return _context2.abrupt(\"return\",audio);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return _stopRecording.apply(this,arguments);}function finishRecording(){return _finishRecording.apply(this,arguments);}function _finishRecording(){_finishRecording=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var audio,_yield$audio,audioFile,audioName;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return stopRecording();case 2:audio=_context3.sent;_context3.next=5;return audio;case 5:_yield$audio=_context3.sent;audioFile=_yield$audio.audioFile;audioName=_yield$audio.audioName;sendAudio(audioFile,audioName);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return _finishRecording.apply(this,arguments);}function sendAudio(_x2,_x3){return _sendAudio.apply(this,arguments);}function _sendAudio(){_sendAudio=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(audioFile,audioName){var doc,url;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:db.collection(\"users\").doc(user.uid).collection(\"chats\").doc(roomId).set({name:room.name,photoURL:room.photoURL||null,timestamp:createTimestamp()});_context4.next=3;return db.collection(\"rooms\").doc(roomId).collection(\"messages\").add({name:user.displayName,uid:user.uid,timestamp:createTimestamp(),time:new Date().toUTCString(),audioUrl:\"uploading\",audioName:audioName});case 3:doc=_context4.sent;_context4.next=6;return audioStorage.child(audioName).put(audioFile);case 6:_context4.next=8;return audioStorage.child(audioName).getDownloadURL();case 8:url=_context4.sent;db.collection(\"rooms\").doc(roomId).collection(\"messages\").doc(doc.id).update({audioUrl:url});case 10:case\"end\":return _context4.stop();}}},_callee4);}));return _sendAudio.apply(this,arguments);}function audioInputChange(event){var audioFile=event.target.files[0];if(audioFile){setAudioId(\"\");sendAudio(audioFile,uuid());}}var btnIcons=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{style:{width:20,height:20,color:\"white\"}}),/*#__PURE__*/_jsx(MicRounded,{style:{width:24,height:24,color:\"white\"}})]});var canRecord=navigator.mediaDevices.getUserMedia&&window.MediaRecorder;return/*#__PURE__*/_jsxs(\"div\",{className:\"chat__footer\",children:[/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,value:input,onChange:!isRecording?onChange:null,onKeyPress:isRecording?function(){return false;}:null,placeholder:\"Type a message\"}),canRecord?/*#__PURE__*/_jsx(\"button\",{onClick:input.trim()||input===\"\"&&image?sendMessage:startRecording,type:\"submit\",className:\"send__btn\",children:btnIcons}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"capture\",className:\"send__btn\",children:btnIcons}),/*#__PURE__*/_jsx(\"input\",{style:{display:\"none\"},type:\"file\",id:\"capture\",accept:\"audio/*\",capture:true,onChange:audioInputChange})]})]}),isRecording&&/*#__PURE__*/_jsxs(\"div\",{ref:recordingEl,className:\"record\",children:[/*#__PURE__*/_jsx(CancelRounded,{style:{width:30,height:30,color:\"#f20519\"},onClick:stopRecording}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"record__redcircle\"}),/*#__PURE__*/_jsx(\"div\",{className:\"record__duration\",children:duration})]}),/*#__PURE__*/_jsx(CheckCircleRounded,{style:{width:30,height:30,color:\"#41bf49\"},onClick:finishRecording})]})]});}","map":{"version":3,"sources":["C:/Users/Koosha/Desktop/Reed Barger - Build WhatsApp with React 2021-5/whatsapp-clone/src/components/ChatFooter.js"],"names":["CancelRounded","CheckCircleRounded","MicRounded","Send","React","createTimestamp","db","audioStorage","v4","uuid","recordAudio","ChatFooter","input","onChange","sendMessage","image","user","room","roomId","setAudioId","useState","isRecording","setRecording","duration","setDuration","timerInterval","useRef","recordingEl","record","inputRef","startRecording","event","preventDefault","current","focus","style","width","useEffect","opacity","startTimer","start","Date","now","setInterval","setTime","timeElapsed","totalSeconds","Math","floor","minutes","pad","parseInt","seconds","value","String","length","stopRecording","clearInterval","audio","stop","finishRecording","audioFile","audioName","sendAudio","collection","doc","uid","set","name","photoURL","timestamp","add","displayName","time","toUTCString","audioUrl","child","put","getDownloadURL","url","id","update","audioInputChange","target","files","btnIcons","height","color","canRecord","navigator","mediaDevices","getUserMedia","window","MediaRecorder","trim","display"],"mappings":"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","sourcesContent":["import {\n  CancelRounded,\n  CheckCircleRounded,\n  MicRounded,\n  Send,\n} from \"@material-ui/icons\";\nimport React from \"react\";\nimport { createTimestamp, db, audioStorage } from \"../firebase\";\nimport { v4 as uuid } from \"uuid\";\nimport \"./ChatFooter.css\";\nimport recordAudio from \"./recordAudio\";\n\nexport default function ChatFooter({\n  input,\n  onChange,\n  sendMessage,\n  image,\n  user,\n  room,\n  roomId,\n  setAudioId,\n}) {\n  const [isRecording, setRecording] = React.useState(false);\n  const [duration, setDuration] = React.useState(\"00:00\");\n\n  const timerInterval = React.useRef();\n  const recordingEl = React.useRef();\n  const record = React.useRef();\n  const inputRef = React.useRef();\n\n  async function startRecording(event) {\n    event.preventDefault();\n    record.current = await recordAudio();\n    inputRef.current.focus();\n    inputRef.current.style.width = \"calc(100% - 56px)\";\n    setRecording(true);\n    setAudioId(\"\");\n  }\n\n  React.useEffect(() => {\n    if (isRecording) {\n      recordingEl.current.style.opacity = \"1\";\n      startTimer();\n      record.current.start();\n    }\n\n    function startTimer() {\n      const start = Date.now();\n      timerInterval.current = setInterval(setTime, 100);\n\n      function setTime() {\n        const timeElapsed = Date.now() - start;\n        const totalSeconds = Math.floor(timeElapsed / 1000);\n        const minutes = pad(parseInt(totalSeconds / 60));\n        const seconds = pad(parseInt(totalSeconds % 60));\n        const duration = `${minutes}:${seconds}`;\n        setDuration(duration);\n      }\n    }\n  }, [isRecording]);\n\n  function pad(value) {\n    return String(value).length < 2 ? `0${value}` : value;\n  }\n\n  async function stopRecording() {\n    inputRef.current.focus();\n    clearInterval(timerInterval.current);\n    const audio = record.current.stop();\n    recordingEl.current.style.opacity = \"0\";\n    setRecording(false);\n    inputRef.current.style.width = \"calc(100% - 112px)\";\n    setDuration(\"00:00\");\n    return audio;\n  }\n\n  async function finishRecording() {\n    const audio = await stopRecording();\n    const { audioFile, audioName } = await audio;\n    sendAudio(audioFile, audioName);\n  }\n\n  async function sendAudio(audioFile, audioName) {\n    db.collection(\"users\")\n      .doc(user.uid)\n      .collection(\"chats\")\n      .doc(roomId)\n      .set({\n        name: room.name,\n        photoURL: room.photoURL || null,\n        timestamp: createTimestamp(),\n      });\n\n    const doc = await db\n      .collection(\"rooms\")\n      .doc(roomId)\n      .collection(\"messages\")\n      .add({\n        name: user.displayName,\n        uid: user.uid,\n        timestamp: createTimestamp(),\n        time: new Date().toUTCString(),\n        audioUrl: \"uploading\",\n        audioName,\n      });\n\n    await audioStorage.child(audioName).put(audioFile);\n    const url = await audioStorage.child(audioName).getDownloadURL();\n    db.collection(\"rooms\")\n      .doc(roomId)\n      .collection(\"messages\")\n      .doc(doc.id)\n      .update({\n        audioUrl: url,\n      });\n  }\n\n  function audioInputChange(event) {\n    const audioFile = event.target.files[0];\n\n    if (audioFile) {\n      setAudioId(\"\");\n      sendAudio(audioFile, uuid());\n    }\n  }\n\n  const btnIcons = (\n    <>\n      <Send\n        style={{\n          width: 20,\n          height: 20,\n          color: \"white\",\n        }}\n      />\n      <MicRounded\n        style={{\n          width: 24,\n          height: 24,\n          color: \"white\",\n        }}\n      />\n    </>\n  );\n\n  const canRecord = navigator.mediaDevices.getUserMedia && window.MediaRecorder;\n\n  return (\n    <div className=\"chat__footer\">\n      <form>\n        <input\n          ref={inputRef}\n          value={input}\n          onChange={!isRecording ? onChange : null}\n          onKeyPress={isRecording ? () => false : null}\n          placeholder=\"Type a message\"\n        />\n\n        {canRecord ? (\n          <button\n            onClick={\n              input.trim() || (input === \"\" && image)\n                ? sendMessage\n                : startRecording\n            }\n            type=\"submit\"\n            className=\"send__btn\"\n          >\n            {btnIcons}\n          </button>\n        ) : (\n          <>\n            <label htmlFor=\"capture\" className=\"send__btn\">\n              {btnIcons}\n            </label>\n            <input\n              style={{ display: \"none\" }}\n              type=\"file\"\n              id=\"capture\"\n              accept=\"audio/*\"\n              capture\n              onChange={audioInputChange}\n            />\n          </>\n        )}\n      </form>\n\n      {isRecording && (\n        <div ref={recordingEl} className=\"record\">\n          <CancelRounded\n            style={{\n              width: 30,\n              height: 30,\n              color: \"#f20519\",\n            }}\n            onClick={stopRecording}\n          />\n          <div>\n            <div className=\"record__redcircle\" />\n            <div className=\"record__duration\">{duration}</div>\n          </div>\n          <CheckCircleRounded\n            style={{\n              width: 30,\n              height: 30,\n              color: \"#41bf49\",\n            }}\n            onClick={finishRecording}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}